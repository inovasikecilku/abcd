port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: silent
external-controller: 127.0.0.1:9090
dns:
  enable: true
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  listen: 127.0.0.1:7874
  fake-ip-filter:
  - "+.*"
  default-nameserver:
    - 9.9.9.9
    - 149.112.112.112
  nameserver:
    - 1.1.1.1
    - 1.0.0.1
    - https://dns.cloudflare.com/dns-query
    - tls://1dot1dot1dot1.cloudflare-dns.com
    - https://dns.quad9.net/dns-query
    - tls://dns.quad9.net

proxy-providers:
  Asia:
    type: http
    url: "https://fool.azurewebsites.net/get?vpn=vmess&format=clash&region=Asia&sni=www.google.com"
    interval: 86400
    path: ./asia.yaml
    health-check:
      enable: true
      interval: 300
      url: http://www.gstatic.com/generate_204
  Americas:
    type: http
    url: "https://fool.azurewebsites.net/get?vpn=vmess&format=clash&region=Americas&sni=www.google.com"
    interval: 86400
    path: ./americas.yaml
    health-check:
      enable: true
      interval: 300
      url: http://www.gstatic.com/generate_204
  Europe:
    type: http
    url: "https://fool.azurewebsites.net/get?vpn=vmess&format=clash&region=Europe&sni=www.google.com"
    interval: 86400
    path: ./europe.yaml
    health-check:
      enable: true
      interval: 300
      url: http://www.gstatic.com/generate_204
  Singapura:
    type: http
    url: "http://bit.ly/3Rq1Qtj"
    interval: 86400
    path: ./singapura.yaml
    health-check:
      enable: true
      interval: 300
      url: http://www.gstatic.com/generate_204
  Acak:
    type: http
    url: "https://bit.ly/3DvC3dk"
    interval: 86400
    path: ./acak.yaml
    health-check:
      enable: true
      interval: 300
      url: http://www.gstatic.com/generate_204

proxies:
# akun hysteria
- name: Hysteria
  type: hysteria
  server: 128.199.233.181
  port: 443
  auth_str: hysteria
  obfs: hysteria
  protocol: udp
  up: "200 Mbps"
  down: "1000 Mbps"
  sni: www.google.com
  skip-cert-verify: true
  fast-open: true
# akun snell
- name: Snell
  type: snell
  server: 128.199.233.181
  port: 443
  psk: akrabcoid
  version: 3
  obfs-opts:
    mode: tls
    host: www.google.com
  sni: www.google.com
  udp: true

- name: Shadowsocks
  type: ss
  server: idsocks.ipservers.xyz
  port: 1443
  cipher: aes-256-cfb
  password: IIE8iB7R0J
  plugin: obfs
  plugin-opts:
    mode: tls
    host: idsocks.ipservers.xyz
    
- name: ShadowsocksR
  type: ssr
  server: idsocks.ipservers.xyz
  port: 8388
  cipher: aes-256-cfb
  password: IIE8iB7R0J
  protocol: auth_chain_a
  obfs: tls1.2_ticket_auth
  protocol-param: "#"
  obfs-param: idsocks.ipservers.xyz
  udp: true

proxy-groups:
- name: Umum
  type: load-balance
  strategy: consistent-hashing
  disable-udp: false
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 150
  proxies:
  - Shadowsocks
  - ShadowsocksR
  - Hysteria
  - Snell

- name: Asia
  type: load-balance
  strategy: consistent-hashing
  disable-udp: false
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 150
  use:
  - Asia

- name: Americas
  type: load-balance
  strategy: consistent-hashing
  disable-udp: false
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 150
  use:
  - Americas

- name: Europe
  type: load-balance
  strategy: consistent-hashing
  disable-udp: false
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 150
  use:
  - Europe

- name: Singapura
  type: load-balance
  strategy: consistent-hashing
  disable-udp: false
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 150
  use:
  - Singapura
  
- name: Acak
  type: load-balance
  strategy: consistent-hashing
  disable-udp: false
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 150
  use:
  - Acak
  
- name: Fallback
  type: fallback
  disable-udp: false
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 150
  proxies:
  - Umum
  - Asia
  - Americas
  - Europe
  - Singapura
  - Acak

- name: Loadbalance
  type: load-balance
  strategy: consistent-hashing
  disable-udp: false
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 150
  proxies:
  - Umum
  - Asia
  - Americas
  - Europe
  - Singapura
  - Acak

- name: Selector
  type: select
  disable-udp: false
  proxies:
  - Shadowsocks
  - ShadowsocksR
  - Hysteria
  - Snell
  use:
  - Asia
  - Americas
  - Europe
  - Singapura
  - Acak

- name: Semua
  type: select
  disable-udp: false
  proxies:
  - Fallback
  - Loadbalance
  - Selector

- name: Pilih
  type: select
  disable-udp: false
  proxies:
  - REJECT
  - DIRECT
  - Fallback
  - Loadbalance
  - Selector
  
rules:
  - GEOIP,id,DIRECT
  - GEOSITE,category-ads-all,Pilih
  - GEOSITE,category-porn,Pilih
  - MATCH,Semua
